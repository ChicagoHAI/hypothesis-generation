task_name: gptgc_detect

train_data_path: ./WP_aigc_detect_train.json
val_data_path: ./WP_aigc_detect_val.json
test_data_path: ./WP_aigc_detect_test.json
ood_data_path: ../llamagc_detect/WP_aigc_detect_test.json

prompt_templates:
  observations:
    multi_content: |
      Here is a story: <BEGIN_story>\n"${story}"<END_story>\n
      ${label_description}.
      
  adaptive_info_prompt:
    multi_content: |
      Pattern ${idx}: ${hypothesis_text}
      ${observations}
    
  few_shot_prefix: |
    We have seen some story:

  relevant_papers:
    multi_content: |
      Title: ${title}
      Key Findings: ${summary}
  
  summarize_paper:
    system: |-
      You are a helpful assistant for summarizing key findings in research papers on a given topic.
    user: |-
      Summarize the following research paper, focusing ONLY on this question: What is useful for one to detect whether some text is generated by AI? 
      Focus on hypotheses of what kind of text tend to be generated by AI, do not include technical details in the paper. 
      Title: ${title}
      Text: 
      ${paper_text}

  initialize_zero_shot:
    system: |-
      You're a professional AI content detector.
      Based on your past experiences, please generate hypotheses that are useful for explaining why one particular text is more likely to be written by human or AI.
      These hypotheses should identify patterns, phrases, wordings etc. that you can find in the literature. They should also be generalizable to new instances.
      Please propose ${num_hypotheses} refined hypotheses and generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      
    user: |-
      Please generate hypotheses that are useful for predicting whether a piece of text is written of human or AI.
      Please propose ${num_hypotheses} possible hypotheses.

      Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis]. 

      Proposed hypotheses:

  initialize_hypotheses_only_paper:
    system: |-
      You're a professional AI content detector.
      Given some key findings from a series of research papers, we want to generate hypotheses that are useful for detecting whether a piece of text is written by human or AI. 

      Your task is to identify what patterns or traits show up more in AI generated texts, and what shows up more in human written texts.  Focus on the generalizable insight that can be applied in other contexts. Ignore things that are specific to this story. Do not make references this story they may not be for others.

      Using the given relevant literatures, please propose ${num_hypotheses} possible hypothesis pairs.
      These hypotheses should identify specific patterns that occur across the provided texts.

      Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      The hypotheses should analyze what kind of text is likely to be written by human or AI.
    user: |-
      We have some key findings from a series of research papers that might be useful for generating the required ${num_hypotheses} hypotheses:
      ${relevant_papers}
      Please generate hypotheses that are useful for predicting whether a piece of text is written of human or AI. 
      Propose ${num_hypotheses} possible hypotheses. Remember to generate ${num_hypotheses} hypotheses! Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      Proposed hypotheses:

  refine_with_data:
    system: |-
      You're a an AI generated content detection expert. You are great at detecting what type of text is generated by AI.
      Given a set of texts, we want to generate hypotheses that are useful for predicting whether a piece of text is generated by AI. In other words, we want to know whether the text is written by a human or generated by AI.

      Using the given examples, refine the hypothesis pairs provided.
      The desired hypotheses should identify specific patterns that occur across the provided text examples.

      Generate refined hypotheses in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      The hypotheses should analyze what kind of text is likely to be written by human or AI.
    user: |-
      We have seen some texts:
      ${observations}
      We have some hypotheses need to be refined:
      ${hypotheses}
      Please refine these hypotheses to make them more specific and useful for predicting whether a piece of text is written by human or AI.
      When refining the hypotheses, feel free to change the key information or topic of a hypothesis based on the provided prevailing patterns in data if you think it is necessary.
      Generate refined hypotheses in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      Refined hypotheses:

  refine_with_literature:
    system: |-
      You're a an AI generated content detection expert. You are great at detecting what type of text is generated by AI.
      Given a set of texts, we want to generate hypotheses that are useful for predicting whether a piece of text is generated by AI. In other words, we want to know whether the text is written by a human or generated by AI.

      Using the given relevant literatures, refine the hypothesis pairs provided.
      The desired hypotheses should identify specific patterns that occur across the provided text examples.

      Generate refined hypotheses in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      The hypotheses should analyze what kind of text is likely to be written by human or AI.
    user: |-
      We have some key findings from a series of research papers that might be useful for generating hypotheses:
      ${relevant_papers}
      We have some hypotheses need to be refined:
      ${hypotheses}
      Please refine these hypotheses to make them more specific and useful for predicting whether a piece of text is written by human or AI.
      When refining the hypotheses, feel free to change the key information or topic of a hypothesis based on the provided prevailing patterns in data if you think it is necessary.
      Generate refined hypotheses in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      Refined hypotheses:

  batched_generation:
    system: |-
      You're a an AI generated content detection expert. You are great at detecting what type of text is generated by AI.
      Given a set of texts, we want to generate hypotheses that are useful for predicting whether a piece of text is generated by AI. In other words, we want to know whether the text is written by a human or generated by AI.

      Your task is to identify what patterns or traits show up more in AI generated texts, and what shows up more in human written texts.  Focus on the generalizable insight that can be applied in other contexts. Ignore things that are specific to this story. Do not make references this story they may not be for others.

      Using the given examples, please propose ${num_hypotheses} possible hypothesis pairs.
      When proposing hypothesis, look closely into the given examples and identify specific patterns that occur across the provided text examples. 
      The hypotheses should be clear, easy to understand, and have specific details such that one can apply the hypotheses to predict whether a piece of text is written by human or AI.

      Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      The hypotheses should analyze what kind of text is likely to be written by human or AI.

    user: |-
      We have seen some texts:
      ${observations}
      Please generate hypotheses that are useful for predicting predicting whether a piece of text is written by human or AI.
      Propose ${num_hypotheses} possible hypotheses. Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      
      When proposing hypothesis, look closely into the given examples and identify specific patterns that occur across the provided text examples. 

      Please make sure that the hypotheses are:
      i. clear (i.e., precise , not too wordy , and easy to understand);
      ii. generalizable to novel situations (i.e., they would make sense if applied to other AI generated content detection experiments or other messaging contexts);
      iii. empirically plausible (i.e., this is a dimension on which messages can vary on);
      iv. unidimensional (i.e., avoid hypotheses that list multiple constructs so if there are many things changing , pick one);
      v. usable (i.e., a human equipped with this insight could use it to predict if a new piece of text is generated AI in a similar way)

      Proposed hypotheses:
      
  IO_refine_with_feedback:
    system: |-
      
    user: |-
      Applying your rule to the following inputs does not produce the expected outputs.
      Here's your proposed hypothesis: ${hypothesis_text}
      Below is some examples that you predicted wrong using the hypothesis.
      ${observations}
      Please generate new hypotheses that maps the given inputs to their corresponding outputs.
      Propose ${num_hypotheses} possible hypotheses. Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].

  batched_generation_with_paper:
    system: |-
      You're a an AI generated content detection expert. You are great at detecting what type of text is generated by AI.
      Given a set of texts, we want to generate hypotheses that are useful for predicting whether a piece of text is generated by AI. In other words, we want to know whether the text is written by a human or generated by AI.

      Your task is to identify what patterns or traits show up more in AI generated texts, and what shows up more in human written texts.  Focus on the generalizable insight that can be applied in other contexts. Ignore things that are specific to this story. Do not make references this story they may not be for others.

      Using the given examples and relevant literatures, please propose ${num_hypotheses} possible hypothesis pairs.
      These hypotheses should identify specific patterns that occur across the provided text examples..

      The hypotheses should be clear, easy to understand, and have specific details such that one can apply the hypotheses to predict whether a piece of text is written by human or AI.

      Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      The hypotheses should analyze what kind of text is likely to be written by human or AI.

    user: |-
      We have some key findings from a series of research papers that might be useful for generating hypotheses:
      ${relevant_papers}
      We have seen some texts:
      ${observations}
      Please generate hypotheses that are useful for predicting predicting whether a piece of text is written by human or AI.
      Propose ${num_hypotheses} possible hypotheses. Generate them in the format of 1. [hypothesis], 2. [hypothesis], ... ${num_hypotheses}. [hypothesis].
      
      When proposing hypothesis, look closely into the given examples and identify specific patterns that occur across the provided text examples. 

      Please make sure that the hypotheses are:
      i. clear (i.e., precise , not too wordy , and easy to understand);
      ii. generalizable to novel situations (i.e., they would make sense if applied to other AI generated content detection experiments or other messaging contexts);
      iii. empirically plausible (i.e., this is a dimension on which messages can vary on);
      iv. unidimensional (i.e., avoid hypotheses that list multiple constructs so if there are many things changing , pick one);
      v. usable (i.e., a human equipped with this insight could use it to predict if a new piece of text is generated AI in a similar way)

      Proposed hypotheses:

  few_shot_baseline:
    system: |-
      You are an AI generated content detection agent and want to determine whether a piece of text is written by a human or generated by an AI.
      Now, you will see a new piece of text, and you need to predict whether it is written by a human or generated by an AI.
      Give an answer. The answer should be one word (AI or HUMAN).
      You must give your final answer in the format of "Final answer: ANSWER"

    user: |-
      ${few_shot_prefix}${observations}
      New text:
      Here is a story: "${story}"

      Is this story written by human or AI?
      You must give your final answer in the format of "Final answer: ANSWER".

  inference:
    system: |-
      You are an AI generated content detection agent and want to determine whether a piece of text is written by a human or generated by an AI. In other words, we want to know whether the text is written by a human or generated by AI.
      From past experiences, you learned a pattern. 
      You need to determine whether each of the patterns holds for the current piece of text, and also predict whether the current text is written by human or AI.
      Give an answer. The answer should be one word (AI or HUMAN).
      You must give your final answer in the format of "Final answer: ANSWER"

    user: |-
      Our learned patterns: ${hypothesis}                          
      New text:
      Here is a story: "${story}"

      Given the pattern you learned above, give an answer of whether the current text is written by human or AI. 
      Think step by step.
      First step: Think about which pattern can be applied to the story.
      Second step: Based on the pattern, is this story written by human or AI?
      You must give your final answer in the format of "Final answer: ANSWER".
      
  multiple_hypotheses_inference:
    system: |-
      You are an AI generated content detection agent and want to determine whether a piece of text is written by a human or generated by an AI. In other words, we want to know whether the text is written by a human or generated by AI.
      From past experiences, you learned some patterns. 
      You need to determine whether each of the patterns holds for the current text, and also predict whether the current text is written by human or AI. 
      Give an answer. The answer should be one word (AI or HUMAN).
      Give your final answer in the format of "Final answer: ANSWER"
    user: |-
      Our learned patterns: ${hypotheses}                          
      New text:
      Here is a story: "${story}"

      Given the patterns you learned above, give an answer of whether the current text is written by human or AI. 
      Think step by step.
      First step: Think about which pattern can be applied to the story.
      Second step: Based on the pattern, is this story written by human or AI?
      You must give your final answer in the format of "Final answer: ANSWER".
  
  check_hypothesis_pair_repetition:
    system: |-
      You are an AI generated content detection agent.
      From past experiences, you learned two hypotheses that are useful for determining whether a text is written by human or AI.
      You need to determine if the two hypotheses are so similar to the level of "repeating hypotheses".
      Finally, answer "yes" if the two hypotheses are repetitive and "no" if they are not.
      Keep your answer short.
      Give your final answer in the format of "Final answer: [answer]".

    user: |-
      We have two hypotheses that need you to determine if they are repetitive:
      ${hypotheses}
      Are these two hypotheses so similar to the level that they are repetitive? If the both of them can provide significantly more information than only one of them could, and the information is important and useful for predicting whether a text is written by human or AI, they should not be considered repetitive.
      Note that adding specific examples does not count as "provide significantly more information".
      Give a short explanation of your decision.
      Then give your final answer in the format of "Final answer: [answer]".
      Your answer: 

  is_relevant:
    system: |-
      You are an AI generated content detection agent. 
      From past experiences, you learned a pattern about how to judge whether a piece of text is written by a human or generated by an AI.
      Now, given a new piece of text, you need to determine whether this pattern is relevant or not.
      The pattern is relevant means that one can directly apply this pattern as a heuristic to decide whether the text is written by human or AI.
      Not all patterns will be relevant to every text. Carefully consider whether the pattern truly applies to the given text.
      Be skeptical. It's okay and often correct to determine that a pattern is not relevant.
      Provide a brief explanation for your rating.
      Finally, answer "yes" if the pattern is relevant and "no" if the pattern is not relevant.
      Keep you answer short.
      Give your final answer in the format of "Final answer: [answer]".

    user: |-
      Our learned pattern: ${hypothesis}                            
      A text is the following: "${story}"
      Is this pattern relevant to the given text?
      Think step by step:
      We define a criterion to be [feature] -> [judgement (human or AI)]. For example, [exaggerated language] -> [text is AI].
      Step 1: Look at the given pattern, what are the criteria entailed in this pattern?
      Step 2: Look at the given text, among the criteria you found in Step 1, does there exist a criterion whose [feature] can be explicitly found in the text?
      Step 3: If the answer in Step 2 is yes, then the pattern is relevant; otherwise, it is not.
      Step 4: Give your final answer.
      Answer:


