task_name: hotel_reviews
label_classes:
    - deceptive
    - truthful
train_data_path: ./data/hotel_reviews/hotel_reviews_train.json
val_data_path: ./data/hotel_reviews/hotel_reviews_val.json
test_data_path: ./data/hotel_reviews/hotel_reviews_test.json
ood_test_data_path: ./data
parser: |
    import re
    
    def extract_label(text):
        if text is None:
            return 'other'

        # only keep the part after "Final answer:"
        text = text.lower()
        '''
        if "final answer:" in text:
            text = text[text.index("final answer:") + len("final answer:"):]



        if "label:" in text:
            # only keep the part after "label:"
            text = text[text.index("label:") + len("label:"):]
        '''

        pattern = r"final answer:\s+(truthful|deceptive|other)"

        match = re.search(pattern, text.lower())
        if match:
            answer = match.group(1)
            if answer == "truthful":
                return "truthful"
            elif answer == "deceptive":
                return "deceptive"
            else:
                return "other"

        return 'other'
